Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:   1


PC     Object              I  Line    Source 
                           A     1    ; Zilog Z8 Encore! ANSI C Compiler Release 3.62
                           A     2    ; -nolocalcse -optsize -nofastcall -const=RAM -
                           A     3    ; -nooptlink -regvar -reduceopt -debug -norevaa
                           A     4    ; -alias 
                           A     5    	DEFINE lcd_TEXT,SPACE=ROM
                           A     6    	FILE	"..\..\..\..\DOCUME~1\GITHUB\THIRDY
                           A     7    .debug "C"
                           A     8    	SEGMENT ROM_DATA
                           A     9    
                           A    10    
                           A    11    ;**************************** _init_LCD *******
                           A    12    ;Name                         Addr/Register   S
                           A    13    ;_LCD_clear                          IMPORT  --
                           A    14    ;_LCD_command                        IMPORT  --
                           A    15    ;_dly                                IMPORT  --
                           A    16    
                           A    17    
                           A    18    ; Aggregate Stack Size: 0 (words)
                           A    19    
                           A    20    
                           A    21    	.FRAME _n_init_LCD,?_n_init_LCD,RDATA
                           A    22    	.FCALL _n_dly
                           A    23    	.FCALL _n_LCD_command
                           A    24    	.FCALL _n_LCD_clear
                           A    25    	.FRAME _f_init_LCD,?_f_init_LCD,EDATA
                           A    26    	.FCALL _f_dly
                           A    27    	.FCALL _f_LCD_command
                           A    28    	.FCALL _f_LCD_clear
                           A    29    	SEGMENT lcd_TEXT
000000                     A    30    _init_LCD:
                           A    31    .define "_init_LCD"
                           A    32    .value _init_LCD
                           A    33    .class 2
                           A    34    .type 65
                           A    35    .type 0
                           A    36    .endef
                           A    37    .begfunc "init_LCD",8,"_init_LCD"
000000 D6 0000             A    38    	CALL	__b_frameset00
                           A    39    ;    1	#include <ez8.h>
                           A    40    ;    2	#include <LCD.H>
                           A    41    ;    3	#include <delay.h>
                           A    42    ;    4	#include <STRING.H>
                           A    43    ;    5	
                           A    44    ;    6	//Code by myself from EMB
                           A    45    ;    7	//Altered for new pins
                           A    46    ;    8	void init_LCD(void){
                           A    47    ;    9		dly(40);
                           A    48    .line 9
000003 1F7028              A    49    	PUSH	#40
000006 1F7000              A    50    	PUSH	#0
000009 D6 0000             A    51    	CALL	_dly
00000C 50E0                A    52    	POP	R0
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:   2


PC     Object              I  Line    Source lcd.src
00000E 50E0                A    53    	POP	R0
                           A    54    ;   10	
                           A    55    ;   11		//LCD pins
                           A    56    ;   12		//PB1 = 0
                           A    57    ;   13		//PB4 = 1
                           A    58    ;   14		//PB5 = 2
                           A    59    ;   15		//PB6 = 3
                           A    60    ;   16		//PB7 = 4
                           A    61    ;   17		//PB3 = 5
                           A    62    ;   18		//PB2 = 6
                           A    63    ;   19		//PH2 = 7
                           A    64    ;   20	
                           A    65    ;   21		//Initialse data bit ports
                           A    66    ;   22		PBAF &= ~0xFE;
                           A    67    .line 22
000010 E9020FD4            A    68    	LDX	4052,#2
000014 59010FD5            A    69    	ANDX	4053,#1
                           A    70    ;   23		PBDD &= ~0xFE;
                           A    71    .line 23
000018 E9010FD4            A    72    	LDX	4052,#1
00001C 59010FD5            A    73    	ANDX	4053,#1
                           A    74    ;   24		PBADDR &= ~0xFE;
                           A    75    .line 24
000020 59010FD4            A    76    	ANDX	4052,#1
                           A    77    ;   25		PBOUT &= ~0xFE;
                           A    78    .line 25
000024 59010FD7            A    79    	ANDX	4055,#1
                           A    80    ;   26		PHAF &= ~0x04;
                           A    81    .line 26
000028 E9020FEC            A    82    	LDX	4076,#2
00002C 59FB0FED            A    83    	ANDX	4077,#-5
                           A    84    ;   27		PHDD &= ~0x04;
                           A    85    .line 27
000030 E9010FEC            A    86    	LDX	4076,#1
000034 59FB0FED            A    87    	ANDX	4077,#-5
                           A    88    ;   28		PHADDR &= ~0x04;
                           A    89    .line 28
000038 59FB0FEC            A    90    	ANDX	4076,#-5
                           A    91    ;   29		PHOUT &= ~0x04;
                           A    92    .line 29
00003C 59FB0FEF            A    93    	ANDX	4079,#-5
                           A    94    ;   30	
                           A    95    ;   31		//PB0 = LCD_E
                           A    96    ;   32		//PH0 = LCD_RS
                           A    97    ;   33		//PH1 = LCD_RW
                           A    98    ;   34		//PC1 = Backlight
                           A    99    ;   35	
                           A   100    ;   36		//Initialise Port D
                           A   101    ;   37		PBAF &= ~0x01;
                           A   102    .line 37
000040 E9020FD4            A   103    	LDX	4052,#2
000044 59FE0FD5            A   104    	ANDX	4053,#-2
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:   3


PC     Object              I  Line    Source lcd.src
                           A   105    ;   38		PBDD &= ~0x01;
                           A   106    .line 38
000048 E9010FD4            A   107    	LDX	4052,#1
00004C 59FE0FD5            A   108    	ANDX	4053,#-2
                           A   109    ;   39		PBADDR &= ~0x01;
                           A   110    .line 39
000050 59FE0FD4            A   111    	ANDX	4052,#-2
                           A   112    ;   40		PBOUT &= ~0x01;
                           A   113    .line 40
000054 59FE0FD7            A   114    	ANDX	4055,#-2
                           A   115    ;   41		PCAF &= ~0x02;
                           A   116    .line 41
000058 E9020FD8            A   117    	LDX	4056,#2
00005C 59FD0FD9            A   118    	ANDX	4057,#-3
                           A   119    ;   42		PCDD &= ~0x02;
                           A   120    .line 42
000060 E9010FD8            A   121    	LDX	4056,#1
000064 59FD0FD9            A   122    	ANDX	4057,#-3
                           A   123    ;   43		PCADDR &= ~0x02;
                           A   124    .line 43
000068 59FD0FD8            A   125    	ANDX	4056,#-3
                           A   126    ;   44		PHAF &= ~0x03;
                           A   127    .line 44
00006C E9020FEC            A   128    	LDX	4076,#2
000070 59FC0FED            A   129    	ANDX	4077,#-4
                           A   130    ;   45		PHDD &= ~0x03;
                           A   131    .line 45
000074 E9010FEC            A   132    	LDX	4076,#1
000078 59FC0FED            A   133    	ANDX	4077,#-4
                           A   134    ;   46		PHADDR &= ~0x03;
                           A   135    .line 46
00007C 59FC0FEC            A   136    	ANDX	4076,#-4
                           A   137    ;   47		PHOUT &= ~0x03;
                           A   138    .line 47
000080 59FC0FEF            A   139    	ANDX	4079,#-4
                           A   140    ;   48	
                           A   141    ;   49		//LCD Initialisation sequence
                           A   142    ;   50		LCD_command(0x3C);
                           A   143    .line 50
000084 1F703C              A   144    	PUSH	#60
000087 D6 01A8             A   145    	CALL	_LCD_command
00008A 50E0                A   146    	POP	R0
                           A   147    ;   51		dly(1);
                           A   148    .line 51
00008C 1F7001              A   149    	PUSH	#1
00008F 1F7000              A   150    	PUSH	#0
000092 D6 0000             A   151    	CALL	_dly
000095 50E0                A   152    	POP	R0
000097 50E0                A   153    	POP	R0
                           A   154    ;   52		LCD_command(0x0F);
                           A   155    .line 52
000099 1F700F              A   156    	PUSH	#15
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:   4


PC     Object              I  Line    Source lcd.src
00009C D6 01A8             A   157    	CALL	_LCD_command
00009F 50E0                A   158    	POP	R0
                           A   159    ;   53		dly(1);
                           A   160    .line 53
0000A1 1F7001              A   161    	PUSH	#1
0000A4 1F7000              A   162    	PUSH	#0
0000A7 D6 0000             A   163    	CALL	_dly
0000AA 50E0                A   164    	POP	R0
0000AC 50E0                A   165    	POP	R0
                           A   166    ;   54		LCD_command(0x01);
                           A   167    .line 54
0000AE 1F7001              A   168    	PUSH	#1
0000B1 D6 01A8             A   169    	CALL	_LCD_command
0000B4 50E0                A   170    	POP	R0
                           A   171    ;   55		dly(3);
                           A   172    .line 55
0000B6 1F7003              A   173    	PUSH	#3
0000B9 1F7000              A   174    	PUSH	#0
0000BC D6 0000             A   175    	CALL	_dly
0000BF 50E0                A   176    	POP	R0
0000C1 50E0                A   177    	POP	R0
                           A   178    ;   56		LCD_command(0x06);
                           A   179    .line 56
0000C3 1F7006              A   180    	PUSH	#6
0000C6 D6 01A8             A   181    	CALL	_LCD_command
0000C9 50E0                A   182    	POP	R0
                           A   183    ;   57	
                           A   184    ;   58		//Turn on the backlight
                           A   185    ;   59		PCOUT |= 0x02;
                           A   186    .line 59
0000CB 49020FDB            A   187    	ORX	4059,#2
                           A   188    ;   60	
                           A   189    ;   61		LCD_clear();
                           A   190    .line 61
0000CF D6 02E3             A   191    	CALL	_LCD_clear
                           A   192    ;   62	
                           A   193    ;   63	}
                           A   194    .line 63
0000D2 D6 0000             A   195    	CALL	__b_framereset
0000D5 AF                  A   196    	RET	
                           A   197    .endfunc "init_LCD",63,"_init_LCD"
                           A   198    	SEGMENT ROM_DATA
                           A   199    ;	Jump Table for Switch Statement at line 68
000000                     A   200    L__2:
000000 0007                A   201    	DW	7
000002 0000                A   202    	DW	0
000004 0110                A   203    	DW	_2_L_7
000006 0001                A   204    	DW	1
000008 00EC                A   205    	DW	_2_L_1
00000A 0002                A   206    	DW	2
00000C 00F2                A   207    	DW	_2_L_2
00000E 0003                A   208    	DW	3
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:   5


PC     Object              I  Line    Source lcd.src
000010 00F8                A   209    	DW	_2_L_3
000012 0004                A   210    	DW	4
000014 00FE                A   211    	DW	_2_L_4
000016 0005                A   212    	DW	5
000018 0104                A   213    	DW	_2_L_5
00001A 0006                A   214    	DW	6
00001C 010A                A   215    	DW	_2_L_6
00001E 011C                A   216    	DW	_2_L_9
                           A   217    
                           A   218    
                           A   219    ;**************************** _set_LCD_control_
                           A   220    ;Name                         Addr/Register   S
                           A   221    ;data                                 R15+4    
                           A   222    
                           A   223    
                           A   224    ; Aggregate Stack Size: 0 (words)
                           A   225    
                           A   226    
                           A   227    	.FRAME _n_set_LCD_control_bus,?_n_set_LCD_c
                           A   228    	.FRAME _f_set_LCD_control_bus,?_f_set_LCD_c
                           A   229    	SEGMENT lcd_TEXT
0000D6                     A   230    _set_LCD_control_bus:
                           A   231    .define "_set_LCD_control_bus"
                           A   232    .value _set_LCD_control_bus
                           A   233    .class 2
                           A   234    .type 65
                           A   235    .type 0
                           A   236    .endef
                           A   237    .begfunc "set_LCD_control_bus",66,"_set_LCD_con
                           A   238    .define "data"
                           A   239    .class 9
                           A   240    .value 4
                           A   241    .type 2
                           A   242    .type 0
                           A   243    .endef
0000D6 D6 0000             A   244    	CALL	__b_frameset00
                           A   245    ;   64	
                           A   246    ;   65	//Code by myself from EMB
                           A   247    ;   66	void set_LCD_control_bus(char data){
                           A   248    ;   67		char temp;
                           A   249    ;   68		switch(data){
                           A   250    .line 68
0000D9 881E04              A   251    	LDX	R1,4(RR14)
0000DC E4E1E0              A   252    	LD	R0,R1
0000DF 90E0                A   253    	RL	R0
0000E1 3200                A   254    	SBC	R0,R0
0000E3 2C 00               A   255    	LD	R2,#high(L__2)
0000E5 3C 00               A   256    	LD	R3,#low(L__2)
0000E7 D6 0000             A   257    	CALL	__b_ucase
0000EA C4E0                A   258    	JP	@RR0
                           A   259    ;   69			case LCD_DATA:
0000EC                     A   260    _2_L_1:
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:   6


PC     Object              I  Line    Source lcd.src
                           A   261    .line 69
                           A   262    ;   70				PHOUT |= 0x01;
                           A   263    .line 70
0000EC 49010FEF            A   264    	ORX	4079,#1
                           A   265    ;   71			break;//set RS bit to 1
                           A   266    .line 71
0000F0 8B 2A               A   267    	JR	_2_L_9
                           A   268    ;   72			case LCD_CONTROL:
0000F2                     A   269    _2_L_2:
                           A   270    .line 72
                           A   271    ;   73				PHOUT &= ~0x01;
                           A   272    .line 73
0000F2 59FE0FEF            A   273    	ANDX	4079,#-2
                           A   274    ;   74			break; //set RS bit to 0;
                           A   275    .line 74
0000F6 8B 24               A   276    	JR	_2_L_9
                           A   277    ;   75			case LCD_READ:
0000F8                     A   278    _2_L_3:
                           A   279    .line 75
                           A   280    ;   76				PHOUT |= 0x02;
                           A   281    .line 76
0000F8 49020FEF            A   282    	ORX	4079,#2
                           A   283    ;   77			break; //set RW bit to 1
                           A   284    .line 77
0000FC 8B 1E               A   285    	JR	_2_L_9
                           A   286    ;   78			case LCD_WRITE:
0000FE                     A   287    _2_L_4:
                           A   288    .line 78
                           A   289    ;   79				PHOUT &= ~0x02;
                           A   290    .line 79
0000FE 59FD0FEF            A   291    	ANDX	4079,#-3
                           A   292    ;   80			break; //set RW bit to 0;
                           A   293    .line 80
000102 8B 18               A   294    	JR	_2_L_9
                           A   295    ;   81			case LCD_ENABLE_HIGH:
000104                     A   296    _2_L_5:
                           A   297    .line 81
                           A   298    ;   82				PBOUT |= 0x01;
                           A   299    .line 82
000104 49010FD7            A   300    	ORX	4055,#1
                           A   301    ;   83			break; //set E clk bit to 1
                           A   302    .line 83
000108 8B 12               A   303    	JR	_2_L_9
                           A   304    ;   84			case LCD_ENABLE_LOW:
00010A                     A   305    _2_L_6:
                           A   306    .line 84
                           A   307    ;   85				PBOUT &= ~0x01;
                           A   308    .line 85
00010A 59FE0FD7            A   309    	ANDX	4055,#-2
                           A   310    ;   86			break; //set E clk bit to 0
                           A   311    .line 86
00010E 8B 0C               A   312    	JR	_2_L_9
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:   7


PC     Object              I  Line    Source lcd.src
                           A   313    ;   87			case LCD_INACTIVE:
000110                     A   314    _2_L_7:
                           A   315    .line 87
                           A   316    ;   88	
                           A   317    ;   89				//Set RS and RW to 1
                           A   318    ;   90				PHOUT |= 0x03;
                           A   319    .line 90
000110 49030FEF            A   320    	ORX	4079,#3
                           A   321    ;   91	
                           A   322    ;   92				//This code is from John Ho
                           A   323    ;   93				PHOUT |= 0x01;
                           A   324    .line 93
000114 49010FEF            A   325    	ORX	4079,#1
                           A   326    ;   94				PHOUT &= ~0x02;
                           A   327    .line 94
000118 59FD0FEF            A   328    	ANDX	4079,#-3
                           A   329    ;   95			break;
                           A   330    ;   96			default:
                           A   331    ;   97	
                           A   332    ;   98			break;
                           A   333    ;   99		}
                           A   334    ;  100	}
00011C                     A   335    _2_L_9:
                           A   336    .line 100
00011C D6 0000             A   337    	CALL	__b_framereset
00011F AF                  A   338    	RET	
                           A   339    .endfunc "set_LCD_control_bus",100,"_set_LCD_co
                           A   340    	SEGMENT ROM_DATA
                           A   341    
                           A   342    
                           A   343    ;**************************** _LCD_data_push **
                           A   344    ;Name                         Addr/Register   S
                           A   345    ;data                                    R0    
                           A   346    
                           A   347    
                           A   348    ; Aggregate Stack Size: 0 (words)
                           A   349    
                           A   350    
                           A   351    	.FRAME _n_LCD_data_push,?_n_LCD_data_push,R
                           A   352    	.FRAME _f_LCD_data_push,?_f_LCD_data_push,E
                           A   353    	SEGMENT lcd_TEXT
000120                     A   354    _LCD_data_push:
                           A   355    .define "_LCD_data_push"
                           A   356    .value _LCD_data_push
                           A   357    .class 2
                           A   358    .type 65
                           A   359    .type 0
                           A   360    .endef
                           A   361    .begfunc "LCD_data_push",103,"_LCD_data_push"
                           A   362    .define "data"
                           A   363    .class 17
                           A   364    .reg 1
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:   8


PC     Object              I  Line    Source lcd.src
                           A   365    .type 2
                           A   366    .type 0
                           A   367    .endef
000120 D6 0000             A   368    	CALL	__b_frameset00
000123 880E04              A   369    	LDX	R0,4(RR14)
                           A   370    ;  101	
                           A   371    ;  102	//Push variable data to the pins of the
                           A   372    ;  103	void LCD_data_push(char data){
                           A   373    ;  104			//This code is from John Hodder
                           A   374    ;  105				PBOUT =
                           A   375    ;  106			 ((data & LCD_D0) << 1) |
                           A   376    ;  107			 ((data & LCD_D1) << 3) |
                           A   377    ;  108			 ((data & LCD_D2) << 3) |
                           A   378    ;  109			 ((data & LCD_D3) << 3) |
                           A   379    ;  110			 ((data & LCD_D4) << 3) |
                           A   380    ;  111			 ((data & LCD_D5) >> 2) |
                           A   381    ;  112			 ((data & LCD_D6) >> 4) |
                           A   382    ;  113			 (PBOUT & 0x01); //Mask Enable 
                           A   383    .line 113
000126 E4E0E1              A   384    	LD	R1,R0
000129 56E101              A   385    	AND	R1,#1
00012C 0211                A   386    	ADD	R1,R1
00012E E4E0E2              A   387    	LD	R2,R0
000131 56E202              A   388    	AND	R2,#2
000134 0222                A   389    	ADD	R2,R2
000136 0222                A   390    	ADD	R2,R2
000138 0222                A   391    	ADD	R2,R2
00013A 4212                A   392    	OR	R1,R2
00013C E4E0E2              A   393    	LD	R2,R0
00013F 56E204              A   394    	AND	R2,#4
000142 0222                A   395    	ADD	R2,R2
000144 0222                A   396    	ADD	R2,R2
000146 0222                A   397    	ADD	R2,R2
000148 4212                A   398    	OR	R1,R2
00014A E4E0E2              A   399    	LD	R2,R0
00014D 56E208              A   400    	AND	R2,#8
000150 0222                A   401    	ADD	R2,R2
000152 0222                A   402    	ADD	R2,R2
000154 0222                A   403    	ADD	R2,R2
000156 4212                A   404    	OR	R1,R2
000158 E4E0E2              A   405    	LD	R2,R0
00015B 56E210              A   406    	AND	R2,#16
00015E 0222                A   407    	ADD	R2,R2
000160 0222                A   408    	ADD	R2,R2
000162 0222                A   409    	ADD	R2,R2
000164 4212                A   410    	OR	R1,R2
000166 E4E0E2              A   411    	LD	R2,R0
000169 D0E2                A   412    	SRA	R2
00016B D0E2                A   413    	SRA	R2
00016D 56E208              A   414    	AND	R2,#8
000170 4212                A   415    	OR	R1,R2
000172 E4E0E2              A   416    	LD	R2,R0
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:   9


PC     Object              I  Line    Source lcd.src
000175 D0E2                A   417    	SRA	R2
000177 D0E2                A   418    	SRA	R2
000179 D0E2                A   419    	SRA	R2
00017B D0E2                A   420    	SRA	R2
00017D 56E204              A   421    	AND	R2,#4
000180 4212                A   422    	OR	R1,R2
000182 842FD7              A   423    	LDX	R2,4055
000185 56E201              A   424    	AND	R2,#1
000188 4212                A   425    	OR	R1,R2
00018A 941FD7              A   426    	LDX	4055,R1
                           A   427    ;  114	
                           A   428    ;  115			PHOUT = ((data & LCD_D7) >> 5) 
                           A   429    .line 115
00018D D0E0                A   430    	SRA	R0
00018F D0E0                A   431    	SRA	R0
000191 D0E0                A   432    	SRA	R0
000193 D0E0                A   433    	SRA	R0
000195 D0E0                A   434    	SRA	R0
000197 56E004              A   435    	AND	R0,#4
00019A 841FEF              A   436    	LDX	R1,4079
00019D E221                A   437    	BCLR	2,R1
00019F 4201                A   438    	OR	R0,R1
0001A1 940FEF              A   439    	LDX	4079,R0
                           A   440    ;  116	}
                           A   441    .line 116
0001A4 D6 0000             A   442    	CALL	__b_framereset
0001A7 AF                  A   443    	RET	
                           A   444    .endfunc "LCD_data_push",116,"_LCD_data_push"
                           A   445    	SEGMENT ROM_DATA
                           A   446    
                           A   447    
                           A   448    ;**************************** _LCD_command ****
                           A   449    ;Name                         Addr/Register   S
                           A   450    ;_LCD_data_push                      IMPORT  --
                           A   451    ;_dly                                IMPORT  --
                           A   452    ;data                                 R15+4    
                           A   453    
                           A   454    
                           A   455    ; Aggregate Stack Size: 0 (words)
                           A   456    
                           A   457    
                           A   458    	.FRAME _n_LCD_command,?_n_LCD_command,RDATA
                           A   459    	.FCALL _n_set_LCD_control_bus
                           A   460    	.FCALL _n_dly
                           A   461    	.FCALL _n_LCD_data_push
                           A   462    	.FRAME _f_LCD_command,?_f_LCD_command,EDATA
                           A   463    	.FCALL _f_set_LCD_control_bus
                           A   464    	.FCALL _f_dly
                           A   465    	.FCALL _f_LCD_data_push
                           A   466    	SEGMENT lcd_TEXT
0001A8                     A   467    _LCD_command:
                           A   468    .define "_LCD_command"
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:  10


PC     Object              I  Line    Source lcd.src
                           A   469    .value _LCD_command
                           A   470    .class 2
                           A   471    .type 65
                           A   472    .type 0
                           A   473    .endef
                           A   474    .begfunc "LCD_command",120,"_LCD_command"
                           A   475    .define "data"
                           A   476    .class 9
                           A   477    .value 4
                           A   478    .type 2
                           A   479    .type 0
                           A   480    .endef
0001A8 D6 0000             A   481    	CALL	__b_frameset00
                           A   482    ;  117	
                           A   483    ;  118	//Used for sending commands to the LCD_
                           A   484    ;  119	//Code by myself from EMB
                           A   485    ;  120	void LCD_command(char data) {
                           A   486    ;  121	// Set_LCD_Control (LCD_INACTIVE); // s
                           A   487    ;  122		set_LCD_control_bus(LCD_INACTIVE);
                           A   488    .line 122
0001AB 1F7000              A   489    	PUSH	#0
0001AE D6 00D6             A   490    	CALL	_set_LCD_control_bus
0001B1 50E0                A   491    	POP	R0
                           A   492    ;  123	// Set_LCD_Control (???); // set R/W to
                           A   493    ;  124		set_LCD_control_bus(LCD_WRITE);
                           A   494    .line 124
0001B3 1F7004              A   495    	PUSH	#4
0001B6 D6 00D6             A   496    	CALL	_set_LCD_control_bus
0001B9 50E0                A   497    	POP	R0
                           A   498    ;  125	// Set_LCD_Control (???); // set RS for
                           A   499    ;  126		set_LCD_control_bus(LCD_CONTROL);
                           A   500    .line 126
0001BB 1F7002              A   501    	PUSH	#2
0001BE D6 00D6             A   502    	CALL	_set_LCD_control_bus
0001C1 50E0                A   503    	POP	R0
                           A   504    ;  127	//  ??? ; // wait for enable pulse widt
                           A   505    ;  128		dly(1);
                           A   506    .line 128
0001C3 1F7001              A   507    	PUSH	#1
0001C6 1F7000              A   508    	PUSH	#0
0001C9 D6 0000             A   509    	CALL	_dly
0001CC 50E0                A   510    	POP	R0
0001CE 50E0                A   511    	POP	R0
                           A   512    ;  129	//  ??? ; // set enable to high
                           A   513    ;  130		set_LCD_control_bus(LCD_ENABLE_HIGH
                           A   514    .line 130
0001D0 1F7005              A   515    	PUSH	#5
0001D3 D6 00D6             A   516    	CALL	_set_LCD_control_bus
0001D6 50E0                A   517    	POP	R0
                           A   518    ;  131	//  LCD_data_push = data; // make a val
                           A   519    ;  132		LCD_data_push(data);
                           A   520    .line 132
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:  11


PC     Object              I  Line    Source lcd.src
0001D8 880E04              A   521    	LDX	R0,4(RR14)
0001DB 70E0                A   522    	PUSH	R0
0001DD D6 0120             A   523    	CALL	_LCD_data_push
0001E0 50E0                A   524    	POP	R0
                           A   525    ;  133	//  ??? ; // wait for enable pulse widt
                           A   526    ;  134		dly(1);
                           A   527    .line 134
0001E2 1F7001              A   528    	PUSH	#1
0001E5 1F7000              A   529    	PUSH	#0
0001E8 D6 0000             A   530    	CALL	_dly
0001EB 50E0                A   531    	POP	R0
0001ED 50E0                A   532    	POP	R0
                           A   533    ;  135	//  ??? ; // set enable to low to latch
                           A   534    ;  136		set_LCD_control_bus(LCD_ENABLE_LOW)
                           A   535    .line 136
0001EF 1F7006              A   536    	PUSH	#6
0001F2 D6 00D6             A   537    	CALL	_set_LCD_control_bus
0001F5 50E0                A   538    	POP	R0
                           A   539    ;  137	//  ??? ; // A delay of ??? after each 
                           A   540    ;  138		dly(1);
                           A   541    .line 138
0001F7 1F7001              A   542    	PUSH	#1
0001FA 1F7000              A   543    	PUSH	#0
0001FD D6 0000             A   544    	CALL	_dly
000200 50E0                A   545    	POP	R0
000202 50E0                A   546    	POP	R0
                           A   547    ;  139	//  required instruction before the nex
                           A   548    ;  140	}
                           A   549    .line 140
000204 D6 0000             A   550    	CALL	__b_framereset
000207 AF                  A   551    	RET	
                           A   552    .endfunc "LCD_command",140,"_LCD_command"
                           A   553    	SEGMENT ROM_DATA
                           A   554    
                           A   555    
                           A   556    ;**************************** _LCD_data_disp **
                           A   557    ;Name                         Addr/Register   S
                           A   558    ;_LCD_data_push                      IMPORT  --
                           A   559    ;_dly                                IMPORT  --
                           A   560    ;data                                 R15+4    
                           A   561    
                           A   562    
                           A   563    ; Aggregate Stack Size: 0 (words)
                           A   564    
                           A   565    
                           A   566    	.FRAME _n_LCD_data_disp,?_n_LCD_data_disp,R
                           A   567    	.FCALL _n_set_LCD_control_bus
                           A   568    	.FCALL _n_dly
                           A   569    	.FCALL _n_LCD_data_push
                           A   570    	.FRAME _f_LCD_data_disp,?_f_LCD_data_disp,E
                           A   571    	.FCALL _f_set_LCD_control_bus
                           A   572    	.FCALL _f_dly
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:  12


PC     Object              I  Line    Source lcd.src
                           A   573    	.FCALL _f_LCD_data_push
                           A   574    	SEGMENT lcd_TEXT
000208                     A   575    _LCD_data_disp:
                           A   576    .define "_LCD_data_disp"
                           A   577    .value _LCD_data_disp
                           A   578    .class 2
                           A   579    .type 65
                           A   580    .type 0
                           A   581    .endef
                           A   582    .begfunc "LCD_data_disp",144,"_LCD_data_disp"
                           A   583    .define "data"
                           A   584    .class 9
                           A   585    .value 4
                           A   586    .type 2
                           A   587    .type 0
                           A   588    .endef
000208 D6 0000             A   589    	CALL	__b_frameset00
                           A   590    ;  141	
                           A   591    ;  142	//Display data variable on the LCD
                           A   592    ;  143	//Code by myself from EMB
                           A   593    ;  144	void LCD_data_disp(char data) {
                           A   594    ;  145	// Set_LCD_Control (LCD_INACTIVE); // s
                           A   595    ;  146		set_LCD_control_bus(LCD_INACTIVE);
                           A   596    .line 146
00020B 1F7000              A   597    	PUSH	#0
00020E D6 00D6             A   598    	CALL	_set_LCD_control_bus
000211 50E0                A   599    	POP	R0
                           A   600    ;  147	// Set_LCD_Control (???); // set R/W to
                           A   601    ;  148		set_LCD_control_bus(LCD_WRITE);
                           A   602    .line 148
000213 1F7004              A   603    	PUSH	#4
000216 D6 00D6             A   604    	CALL	_set_LCD_control_bus
000219 50E0                A   605    	POP	R0
                           A   606    ;  149	// Set_LCD_Control (???); // set RS for
                           A   607    ;  150		set_LCD_control_bus(LCD_DATA);
                           A   608    .line 150
00021B 1F7001              A   609    	PUSH	#1
00021E D6 00D6             A   610    	CALL	_set_LCD_control_bus
000221 50E0                A   611    	POP	R0
                           A   612    ;  151	//  ??? ; // wait for enable pulse widt
                           A   613    ;  152		dly(1);
                           A   614    .line 152
000223 1F7001              A   615    	PUSH	#1
000226 1F7000              A   616    	PUSH	#0
000229 D6 0000             A   617    	CALL	_dly
00022C 50E0                A   618    	POP	R0
00022E 50E0                A   619    	POP	R0
                           A   620    ;  153	//  ??? ; // set enable to high
                           A   621    ;  154		set_LCD_control_bus(LCD_ENABLE_HIGH
                           A   622    .line 154
000230 1F7005              A   623    	PUSH	#5
000233 D6 00D6             A   624    	CALL	_set_LCD_control_bus
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:  13


PC     Object              I  Line    Source lcd.src
000236 50E0                A   625    	POP	R0
                           A   626    ;  155	//  PAOUT = data; // make a valid data
                           A   627    ;  156		LCD_data_push(data);
                           A   628    .line 156
000238 880E04              A   629    	LDX	R0,4(RR14)
00023B 70E0                A   630    	PUSH	R0
00023D D6 0120             A   631    	CALL	_LCD_data_push
000240 50E0                A   632    	POP	R0
                           A   633    ;  157	//  ??? ; // wait for enable pulse widt
                           A   634    ;  158		dly(1);
                           A   635    .line 158
000242 1F7001              A   636    	PUSH	#1
000245 1F7000              A   637    	PUSH	#0
000248 D6 0000             A   638    	CALL	_dly
00024B 50E0                A   639    	POP	R0
00024D 50E0                A   640    	POP	R0
                           A   641    ;  159	//  ??? ; // set enable to low to latch
                           A   642    ;  160		set_LCD_control_bus(LCD_ENABLE_LOW)
                           A   643    .line 160
00024F 1F7006              A   644    	PUSH	#6
000252 D6 00D6             A   645    	CALL	_set_LCD_control_bus
000255 50E0                A   646    	POP	R0
                           A   647    ;  161	//  ??? ; // A delay of ??? after each 
                           A   648    ;  162		dly(1);
                           A   649    .line 162
000257 1F7001              A   650    	PUSH	#1
00025A 1F7000              A   651    	PUSH	#0
00025D D6 0000             A   652    	CALL	_dly
000260 50E0                A   653    	POP	R0
000262 50E0                A   654    	POP	R0
                           A   655    ;  163	//  required instruction before the nex
                           A   656    ;  164	}
                           A   657    .line 164
000264 D6 0000             A   658    	CALL	__b_framereset
000267 AF                  A   659    	RET	
                           A   660    .endfunc "LCD_data_disp",164,"_LCD_data_disp"
                           A   661    	SEGMENT ROM_DATA
                           A   662    
                           A   663    
                           A   664    ;**************************** _signon *********
                           A   665    ;Name                         Addr/Register   S
                           A   666    ;_dly                                IMPORT  --
                           A   667    ;_LCD_data_disp                      IMPORT  --
                           A   668    ;_strlen                             IMPORT  --
                           A   669    ;_0temp13                            STATIC    
                           A   670    ;init_string                         R15-17    
                           A   671    ;i                                       R2    
                           A   672    
                           A   673    
                           A   674    ; Aggregate Stack Size: -18 (words)
                           A   675    
                           A   676    
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:  14


PC     Object              I  Line    Source lcd.src
                           A   677    	.FRAME _n_signon,?_n_signon,RDATA
                           A   678    	.FCALL _n_strlen
                           A   679    	.FCALL _n_LCD_data_disp
                           A   680    	.FCALL _n_dly
                           A   681    	.FRAME _f_signon,?_f_signon,EDATA
                           A   682    	.FCALL _f_strlen
                           A   683    	.FCALL _f_LCD_data_disp
                           A   684    	.FCALL _f_dly
                           A   685    	SEGMENT FAR_DATA
000000                     A   686    _0temp13:
000000 4C                  A   687    	DB	76
000001 43                  A   688    	DB	67
000002 44                  A   689    	DB	68
000003 20                  A   690    	DB	32
000004 49                  A   691    	DB	73
000005 6E                  A   692    	DB	110
000006 69                  A   693    	DB	105
000007 74                  A   694    	DB	116
000008 69                  A   695    	DB	105
000009 61                  A   696    	DB	97
00000A 6C                  A   697    	DB	108
00000B 69                  A   698    	DB	105
00000C 73                  A   699    	DB	115
00000D 65                  A   700    	DB	101
00000E 64                  A   701    	DB	100
00000F 21                  A   702    	DB	33
000010 00                  A   703    	DB	0
                           A   704    	SEGMENT lcd_TEXT
000268                     A   705    _signon:
                           A   706    .define "_signon"
                           A   707    .value _signon
                           A   708    .class 2
                           A   709    .type 65
                           A   710    .type 0
                           A   711    .endef
                           A   712    .begfunc "signon",168,"_signon"
                           A   713    ;  165	
                           A   714    ;  166	//print that the LCD has initialised co
                           A   715    ;  167	//Code by myself from EMB
                           A   716    ;  168	void signon(void){
                           A   717    .define "U‹ìjÿh0/J"
                           A   718    .class 4
                           A   719    .reg 3
                           A   720    .type 2
                           A   721    .type 0
                           A   722    .endef
                           A   723    .define "init_string"
                           A   724    .class 1
                           A   725    .value -17
                           A   726    .dim 17
                           A   727    .type 98
                           A   728    .type 0
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:  15


PC     Object              I  Line    Source lcd.src
                           A   729    .endef
000268 5C12                A   730    	LD	R5,#18
00026A D6 0000             A   731    	CALL	__b_frameset0
                           A   732    ;  169		char i;
                           A   733    ;  170	
                           A   734    ;  171		//Define the string to be printed
                           A   735    ;  172		char init_string[] = {"LCD Initiali
                           A   736    .line 172
00026D 0C11                A   737    	LD	R0,#17
00026F 996EEF              A   738    	LEA	RR6,239(RR14)
000272 4C 00               A   739    	LD	R4,#high(_0temp13)
000274 5C 00               A   740    	LD	R5,#low(_0temp13)
000276                     A   741    L__12:
000276 86E4E1              A   742    	LDX	R1,@RR4
000279 96E1E6              A   743    	LDX	@RR6,R1
00027C A0E6                A   744    	INCW	RR6
00027E A0E4                A   745    	INCW	RR4
000280 0A F4               A   746    	DJNZ	R0,L__12
000282 8B 29               A   747    	JR	_6_L_15
                           A   748    ;  173	
                           A   749    ;  174		//Loop through each element in the 
                           A   750    ;  175		for(i=0;i<strlen(init_string);i++){
000284                     A   751    _6_L_16:
                           A   752    .line 175
000284 1CFF                A   753    	LD	R1,#255
000286 0CEF                A   754    	LD	R0,#239
000288 020F                A   755    	ADD	R0,R15
00028A 121E                A   756    	ADC	R1,R14
00028C 70E0                A   757    	PUSH	R0
00028E 70E1                A   758    	PUSH	R1
000290 89E2EE              A   759    	LDX	-18(RR14),R2
000293 D6 0000             A   760    	CALL	_strlen
000296 882EEE              A   761    	LDX	R2,-18(RR14)
000299 50E3                A   762    	POP	R3
00029B 50E3                A   763    	POP	R3
00029D E4E2E3              A   764    	LD	R3,R2
0002A0 90E3                A   765    	RL	R3
0002A2 3233                A   766    	SBC	R3,R3
0002A4 A212                A   767    	CP	R1,R2
0002A6 1FA203              A   768    	CPC	R0,R3
0002A9 BB 06               A   769    	JR	UGT,_6_L_18
0002AB 8B 25               A   770    	JR	_6_L_19
0002AD                     A   771    _6_L_15:
0002AD B0E2                A   772    	CLR	R2
0002AF 8B D3               A   773    	JR	_6_L_16
0002B1                     A   774    _6_L_18:
                           A   775    ;  176			LCD_data_disp(init_string[i]);
                           A   776    .line 176
0002B1 E4E2E0              A   777    	LD	R0,R2
0002B4 90E0                A   778    	RL	R0
0002B6 3200                A   779    	SBC	R0,R0
0002B8 994EEF              A   780    	LEA	RR4,239(RR14)
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:  16


PC     Object              I  Line    Source lcd.src
0002BB 0252                A   781    	ADD	R5,R2
0002BD 1240                A   782    	ADC	R4,R0
0002BF 86E4E0              A   783    	LDX	R0,@RR4
0002C2 70E0                A   784    	PUSH	R0
0002C4 89E2EE              A   785    	LDX	-18(RR14),R2
0002C7 D6 0208             A   786    	CALL	_LCD_data_disp
0002CA 882EEE              A   787    	LDX	R2,-18(RR14)
0002CD 50E0                A   788    	POP	R0
                           A   789    .line 175
0002CF 2E                  A   790    	INC	R2
                           A   791    ;  177		}
                           A   792    .line 177
0002D0 8B B2               A   793    	JR	_6_L_16
0002D2                     A   794    _6_L_19:
                           A   795    ;  178	
                           A   796    ;  179		//Delay for a second
                           A   797    ;  180		dly(1000);
                           A   798    .line 180
0002D2 1F70E8              A   799    	PUSH	#232
0002D5 1F7003              A   800    	PUSH	#3
0002D8 D6 0000             A   801    	CALL	_dly
0002DB 50E0                A   802    	POP	R0
0002DD 50E0                A   803    	POP	R0
                           A   804    ;  181	
                           A   805    ;  182	}
                           A   806    .line 182
0002DF D6 0000             A   807    	CALL	__b_framereset
0002E2 AF                  A   808    	RET	
                           A   809    .endfunc "signon",182,"_signon"
                           A   810    	SEGMENT ROM_DATA
                           A   811    
                           A   812    
                           A   813    ;**************************** _LCD_clear ******
                           A   814    ;Name                         Addr/Register   S
                           A   815    ;_dly                                IMPORT  --
                           A   816    ;_LCD_command                        IMPORT  --
                           A   817    
                           A   818    
                           A   819    ; Aggregate Stack Size: 0 (words)
                           A   820    
                           A   821    
                           A   822    	.FRAME _n_LCD_clear,?_n_LCD_clear,RDATA
                           A   823    	.FCALL _n_LCD_command
                           A   824    	.FCALL _n_dly
                           A   825    	.FRAME _f_LCD_clear,?_f_LCD_clear,EDATA
                           A   826    	.FCALL _f_LCD_command
                           A   827    	.FCALL _f_dly
                           A   828    	SEGMENT lcd_TEXT
0002E3                     A   829    _LCD_clear:
                           A   830    .define "_LCD_clear"
                           A   831    .value _LCD_clear
                           A   832    .class 2
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:  17


PC     Object              I  Line    Source lcd.src
                           A   833    .type 65
                           A   834    .type 0
                           A   835    .endef
                           A   836    .begfunc "LCD_clear",186,"_LCD_clear"
0002E3 D6 0000             A   837    	CALL	__b_frameset00
                           A   838    ;  183	
                           A   839    ;  184	//Clears the LCD
                           A   840    ;  185	//Code by myself from EMB
                           A   841    ;  186	void LCD_clear(void){
                           A   842    ;  187		LCD_command(0x01);
                           A   843    .line 187
0002E6 1F7001              A   844    	PUSH	#1
0002E9 D6 01A8             A   845    	CALL	_LCD_command
0002EC 50E0                A   846    	POP	R0
                           A   847    ;  188		dly(2);
                           A   848    .line 188
0002EE 1F7002              A   849    	PUSH	#2
0002F1 1F7000              A   850    	PUSH	#0
0002F4 D6 0000             A   851    	CALL	_dly
0002F7 50E0                A   852    	POP	R0
0002F9 50E0                A   853    	POP	R0
                           A   854    ;  189	}
                           A   855    .line 189
0002FB D6 0000             A   856    	CALL	__b_framereset
0002FE AF                  A   857    	RET	
                           A   858    .endfunc "LCD_clear",189,"_LCD_clear"
                           A   859    	SEGMENT ROM_DATA
                           A   860    
                           A   861    
                           A   862    ;**************************** _printMessage ***
                           A   863    ;Name                         Addr/Register   S
                           A   864    ;_dly                                IMPORT  --
                           A   865    ;_LCD_data_disp                      IMPORT  --
                           A   866    ;_strlen                             IMPORT  --
                           A   867    ;_LCD_clear                          IMPORT  --
                           A   868    ;i                                       R2    
                           A   869    ;clear                                R15+6    
                           A   870    ;message                              R15+4    
                           A   871    
                           A   872    
                           A   873    ; Aggregate Stack Size: -3 (words)
                           A   874    
                           A   875    
                           A   876    	.FRAME _n_printMessage,?_n_printMessage,RDA
                           A   877    	.FCALL _n_LCD_clear
                           A   878    	.FCALL _n_strlen
                           A   879    	.FCALL _n_LCD_data_disp
                           A   880    	.FCALL _n_dly
                           A   881    	.FRAME _f_printMessage,?_f_printMessage,EDA
                           A   882    	.FCALL _f_LCD_clear
                           A   883    	.FCALL _f_strlen
                           A   884    	.FCALL _f_LCD_data_disp
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:  18


PC     Object              I  Line    Source lcd.src
                           A   885    	.FCALL _f_dly
                           A   886    	SEGMENT lcd_TEXT
0002FF                     A   887    _printMessage:
                           A   888    .define "_printMessage"
                           A   889    .value _printMessage
                           A   890    .class 2
                           A   891    .type 65
                           A   892    .type 0
                           A   893    .endef
                           A   894    .begfunc "printMessage",193,"_printMessage"
                           A   895    .define "message"
                           A   896    .class 9
                           A   897    .value 4
                           A   898    .type 162
                           A   899    .type 0
                           A   900    .endef
                           A   901    .define "clear"
                           A   902    .class 9
                           A   903    .value 6
                           A   904    .type 2
                           A   905    .type 0
                           A   906    .endef
                           A   907    ;  190	
                           A   908    ;  191	//Print the passed string to the LCD
                           A   909    ;  192	//Code by myself from EMB
                           A   910    ;  193	void printMessage(char message[], char 
                           A   911    .define "U‹ìjÿh0/J"
                           A   912    .class 4
                           A   913    .reg 3
                           A   914    .type 2
                           A   915    .type 0
                           A   916    .endef
0002FF 5C03                A   917    	LD	R5,#3
000301 D6 0000             A   918    	CALL	__b_frameset0
                           A   919    ;  194		char i;
                           A   920    ;  195	
                           A   921    ;  196		if(clear){
                           A   922    .line 196
000304 880E06              A   923    	LDX	R0,6(RR14)
000307 4200                A   924    	OR	R0,R0
000309 6B 41               A   925    	JR	Z,_8_L_24
                           A   926    ;  197			LCD_clear();
                           A   927    .line 197
00030B 89E2FF              A   928    	LDX	-1(RR14),R2
00030E D6 02E3             A   929    	CALL	_LCD_clear
000311 882EFF              A   930    	LDX	R2,-1(RR14)
                           A   931    ;  198		}
                           A   932    .line 198
000314 8B 36               A   933    	JR	_8_L_24
                           A   934    ;  199	
                           A   935    ;  200		//Loop through each element in the 
                           A   936    ;  201		for(i=0;i<strlen(message);i++){
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:  19


PC     Object              I  Line    Source lcd.src
000316                     A   937    _8_L_25:
                           A   938    .line 201
000316 880E04              A   939    	LDX	R0,4(RR14)
000319 881E05              A   940    	LDX	R1,5(RR14)
00031C 70E1                A   941    	PUSH	R1
00031E 70E0                A   942    	PUSH	R0
000320 E4E2E4              A   943    	LD	R4,R2
000323 E4E4E3              A   944    	LD	R3,R4
000326 90E3                A   945    	RL	R3
000328 3233                A   946    	SBC	R3,R3
00032A 89E2FF              A   947    	LDX	-1(RR14),R2
00032D 89E3FE              A   948    	LDX	-2(RR14),R3
000330 89E4FD              A   949    	LDX	-3(RR14),R4
000333 D6 0000             A   950    	CALL	_strlen
000336 884EFD              A   951    	LDX	R4,-3(RR14)
000339 883EFE              A   952    	LDX	R3,-2(RR14)
00033C 882EFF              A   953    	LDX	R2,-1(RR14)
00033F 50E5                A   954    	POP	R5
000341 50E5                A   955    	POP	R5
000343 A241                A   956    	CP	R4,R1
000345 1FA230              A   957    	CPC	R3,R0
000348 7B 06               A   958    	JR	C,_8_L_27
00034A 8B 28               A   959    	JR	_8_L_29
00034C                     A   960    _8_L_24:
00034C B0E2                A   961    	CLR	R2
00034E 8B C6               A   962    	JR	_8_L_25
000350                     A   963    _8_L_27:
                           A   964    ;  202			LCD_data_disp(message[i]);
                           A   965    .line 202
000350 E4E2E0              A   966    	LD	R0,R2
000353 90E0                A   967    	RL	R0
000355 3200                A   968    	SBC	R0,R0
000357 884E04              A   969    	LDX	R4,4(RR14)
00035A 885E05              A   970    	LDX	R5,5(RR14)
00035D 0252                A   971    	ADD	R5,R2
00035F 1240                A   972    	ADC	R4,R0
000361 86E4E0              A   973    	LDX	R0,@RR4
000364 70E0                A   974    	PUSH	R0
000366 89E2FF              A   975    	LDX	-1(RR14),R2
000369 D6 0208             A   976    	CALL	_LCD_data_disp
00036C 882EFF              A   977    	LDX	R2,-1(RR14)
00036F 50E0                A   978    	POP	R0
                           A   979    .line 201
000371 2E                  A   980    	INC	R2
                           A   981    ;  203		}
                           A   982    .line 203
000372 8B A2               A   983    	JR	_8_L_25
000374                     A   984    _8_L_29:
                           A   985    ;  204	
                           A   986    ;  205		//Delay for a bit
                           A   987    ;  206		dly(2);
                           A   988    .line 206
Zilog Z8 Encore! Macro Assembler Version 2.52 (11010702) 25-Oct-16     19:32:10     page:  20


PC     Object              I  Line    Source lcd.src
000374 1F7002              A   989    	PUSH	#2
000377 1F7000              A   990    	PUSH	#0
00037A D6 0000             A   991    	CALL	_dly
00037D 50E0                A   992    	POP	R0
00037F 50E0                A   993    	POP	R0
                           A   994    ;  207	}
                           A   995    .line 207
000381 D6 0000             A   996    	CALL	__b_framereset
000384 AF                  A   997    	RET	
                           A   998    .endfunc "printMessage",207,"_printMessage"
                           A   999    	XREF _strlen:ROM
                           A  1000    	XREF _dly:ROM
                           A  1001    	XREF __b_ucase:ROM
                           A  1002    	XREF __b_framereset:ROM
                           A  1003    	XREF __b_frameset0:ROM
                           A  1004    	XREF __b_frameset00:ROM
                           A  1005    	XDEF _printMessage
                           A  1006    	XDEF _LCD_clear
                           A  1007    	XDEF _signon
                           A  1008    	XDEF _LCD_data_disp
                           A  1009    	XDEF _LCD_command
                           A  1010    	XDEF _LCD_data_push
                           A  1011    	XDEF _set_LCD_control_bus
                           A  1012    	XDEF _init_LCD
                           A  1013    	END


Errors: 0
Warnings: 0
Lines Assembled: 1014
